[{"C:\\covid19\\src\\index.js":"1","C:\\covid19\\src\\App.js":"2","C:\\covid19\\src\\reportWebVitals.js":"3","C:\\covid19\\src\\components\\Header.js":"4","C:\\covid19\\src\\components\\Contents.js":"5"},{"size":500,"mtime":499162500000,"results":"6","hashOfConfig":"7"},{"size":266,"mtime":1611858530403,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"7"},{"size":275,"mtime":1611300706713,"results":"10","hashOfConfig":"7"},{"size":3884,"mtime":1611858530404,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1whwhh1",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"14"},"C:\\covid19\\src\\index.js",[],["24","25"],"C:\\covid19\\src\\App.js",[],"C:\\covid19\\src\\reportWebVitals.js",[],"C:\\covid19\\src\\components\\Header.js",[],"C:\\covid19\\src\\components\\Contents.js",["26","27","28","29"],"import { useState, useEffect } from 'react'\r\nimport { Bar, Line } from 'react-chartjs-2'\r\nimport axios from 'axios'\r\n\r\nconst Contents = () => {\r\n  // useState로 [↓state명, ↓ 세팅메서드 정의]\r\n  const [confirmedData, setconfirmedData] = useState({}) \r\n  const [dailyConfirmedData, setDailyConfirmedData] = useState({}) \r\n\r\n  useEffect(() => {\r\n    // 이벤트가 들어감\r\n    const fetchEvents = async ()=>{\r\n      // api로 요청해서 받아온 결과물을 res에 담음\r\n      const res = await axios.get(\"https://api.covid19api.com/total/dayone/country/kr\")\r\n      makeData(res.data) \r\n    }\r\n    // 메소드 만들기 위에서 사용할 \r\n    const makeData = (items)=>{\r\n      // arr은 배열, 누적값acc, 현재값cur\r\n      const arr = items.reduce((acc, cur)=>{\r\n        \r\n        // 현재의 날짜를 담아 오늘 날짜를 추출 \r\n        const currentDate = new Date(cur.Date);\r\n        const year = currentDate.getFullYear();\r\n        const month = currentDate.getMonth();\r\n        const date = currentDate.getDate();\r\n\r\n        // api에서 필요한 데이터 추출\r\n        const confirmed = cur.Confirmed;\r\n\r\n        //const active = cur.Active;\r\n        //const death = cur.Death;\r\n        //const recovered = cur.Recovered;\r\n        \r\n        // arr배열에 찾고있는 년월일이 들어있는지를 확인\r\n        const findItem = acc.find(a=> a.year === year && a.month === month);\r\n        \r\n        // 배열에 해당날짜가 안들어가 있으면 push로 데이터 넣기\r\n        if(!findItem){\r\n          acc.push({ year, month, date, confirmed})\r\n        }\r\n        // 배열에 들어가 있고 저장된 date가 < 현재날짜보다 작으면 현재날짜의 데이터로 업데이트 해주기 \r\n        if(findItem && findItem.date < date){\r\n          // findItem.active = active;\r\n          // findItem.death = death;\r\n          // findItem.recovered = recovered;\r\n          findItem.year = year;\r\n          findItem.month = month;\r\n          findItem.date = date;\r\n          findItem.confirmed = confirmed;\r\n        }\r\n        // 업데이트된 acc(누적값)를 리턴 \r\n        return acc;\r\n      }, [])\r\n      // 데이터가 원하는 형태로 가공됨을 확인\r\n      console.log(arr);\r\n      \r\n      //데이터를 다 받아서 열거함\r\n      // items.forEach(item => console.log(item))\r\n      \r\n      const labels = arr.map(a=>\r\n        {return a.year +'.'+ (a.month+1) + '월';\r\n      });\r\n\r\n      setconfirmedData({\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: \"국내 누적 확진자\",\r\n            backgroundColor: \"salmon\",\r\n            fill: true, // 그래프 색을 채우겠느냐\r\n            data: arr.map(a => a.confirmed) // 한줄짜리인경우 {return }을 안써도 된다.\r\n          }\r\n        ]  \r\n      });\r\n\r\n      setDailyConfirmedData({\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: \"일별 확진자 현황\",\r\n            backgroundColor: \"salmon\",\r\n            fill: false, // 그래프 색을 채우겠느냐\r\n            data: arr.map(a => a.confirmed) // 한줄짜리인경우 {return }을 안써도 된다.\r\n          }\r\n        ]  \r\n      });\r\n    \r\n    }\r\n\r\n    fetchEvents();\r\n  })\r\n\r\n  return (\r\n    <section>\r\n      <h2>국내 코로나 현황</h2>\r\n      <div className=\"contents\">\r\n        <div>\r\n            <Bar data={confirmedData} options={\r\n              {title:{display:true, text:\"누적 확진자 현황\", fontSize: 16}},\r\n              {legend:{display:true, position:\"bottom\"}}\r\n            }></Bar>\r\n            <Line data={dailyConfirmedData} options={\r\n              {title:{display:true, text:\"일별 확진자 현황\", fontSize: 16}},\r\n              {legend:{display:true, position:\"bottom\"}}\r\n            }></Line>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Contents\r\n",{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","severity":1,"message":"35","line":2,"column":10,"nodeType":"36","messageId":"37","endLine":2,"endColumn":13},{"ruleId":"34","severity":1,"message":"38","line":8,"column":10,"nodeType":"36","messageId":"37","endLine":8,"endColumn":28},{"ruleId":"34","severity":1,"message":"39","line":8,"column":30,"nodeType":"36","messageId":"37","endLine":8,"endColumn":51},{"ruleId":"40","severity":1,"message":"41","line":88,"column":69,"nodeType":"42","messageId":"43","endLine":88,"endColumn":70},"no-native-reassign",["44"],"no-negated-in-lhs",["45"],"no-unused-vars","'Bar' is defined but never used.","Identifier","unusedVar","'dailyConfirmedData' is assigned a value but never used.","'setDailyConfirmedData' is assigned a value but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","no-global-assign","no-unsafe-negation"]